# 게임 훈련 후 리플레이 비교 및 학습 워크플로우

**작성 일시**: 2026-01-16  
**상태**: ? **준비 완료**

---

## ? 워크플로우 준비 완료

### 자동화 워크플로우

게임 훈련이 끝난 후 자동으로 실행되는 워크플로우가 준비되었습니다.

### 실행 순서

1. **게임 훈련 실행**
   - 최적화된 파라미터로 게임 훈련 시작
   - 실시간 성능 모니터링

2. **훈련 종료 후 자동 실행**
   - 리플레이 비교 분석 (훈련 vs 프로 리플레이)
   - 프로게이머 리플레이 다시 학습
   - 학습된 파라미터 적용

3. **다음 훈련 준비**
   - 업데이트된 파라미터로 다음 훈련 준비
   - 지속적 개선 사이클 시작

---

## ? 실행 방법

### 방법 1: 통합 워크플로우 실행 (권장)

```bash
bat\training_with_post_learning.bat
```

이 스크립트는 다음을 자동으로 실행합니다:
1. 게임 훈련 시작 (최적화된 파라미터 사용)
2. 훈련 종료 후 자동으로:
   - 리플레이 비교 분석
   - 프로게이머 리플레이 학습
   - 학습된 파라미터 적용

### 방법 2: 훈련 후 수동 실행

#### 1단계: 게임 훈련 실행
```bash
bat\start_local_training.bat
```

#### 2단계: 훈련 후 리플레이 비교 및 학습
```bash
bat\post_training_learning.bat
```

### 방법 3: Python 직접 실행

```bash
python tools\post_training_learning_workflow.py
```

---

## ? 워크플로우 상세

### Step 1: 리플레이 비교 분석

- **목적**: 훈련 리플레이와 프로 리플레이 비교
- **기능**:
  - 타이밍 비교 분석
  - 성능 분석
  - 비교 리포트 생성
  - 차이점 추출

### Step 2: 프로게이머 리플레이 학습

- **목적**: 프로게이머 리플레이로 다시 학습
- **기능**:
  - 프로 리플레이 디렉토리에서 리플레이 로드
  - 빌드 오더 추출
  - 최적 파라미터 계산
  - 학습된 파라미터 저장

### Step 3: 학습된 파라미터 적용

- **목적**: 학습된 파라미터를 다음 훈련에 적용
- **기능**:
  - 학습된 파라미터 로드
  - 현재 파라미터와 병합
  - 업데이트된 파라미터 저장
  - Config 업데이트

---

## ? 설정

### 리플레이 디렉토리

기본 리플레이 디렉토리:
- `D:/replays/replays` (우선)
- `replays_archive` (대체)

### 학습 파라미터

기본 설정:
- **최대 리플레이 수**: 50개
- **학습 방법**: 중앙값(median) 사용
- **최소 supply**: 6.0

### 비교 분석

- **비교 데이터**: `build_order_comparison_history.json`
- **비교 리포트**: `local_training/comparison_reports/`

---

## ? 기대 효과

### 성능 개선

- ? **지속적 개선**: 각 훈련 후 자동으로 개선
- ? **프로 기준 학습**: 프로게이머 데이터 기반 학습
- ? **차이점 반영**: 훈련과 프로의 차이점 자동 반영

### 자동화

- ? **자동 실행**: 훈련 후 자동으로 학습 워크플로우 실행
- ? **자동 적용**: 학습된 파라미터 자동 적용
- ? **지속적 사이클**: 반복적인 개선 사이클

---

## ? 파일 구조

### 생성되는 파일

1. **비교 리포트**
   - `local_training/comparison_reports/comparison_YYYYMMDD_HHMMSS.txt`

2. **비교 데이터**
   - `local_training/scripts/build_order_comparison_history.json`

3. **학습된 파라미터**
   - `local_training/scripts/learned_build_orders.json`

### 로그 파일

- 비교 분석 로그
- 학습 로그
- 파라미터 업데이트 로그

---

## ? 다음 단계

1. **통합 워크플로우 실행**: `bat\training_with_post_learning.bat`
2. **성능 모니터링**: 훈련 결과 추적 및 분석
3. **자동 개선 사이클**: 훈련 → 학습 → 적용 → 훈련 반복
4. **주기적 검토**: 주기적으로 학습 결과 검토 및 조정

---

**준비 완료!** 게임 훈련 후 자동으로 리플레이 비교 및 프로게이머 리플레이 학습이 실행됩니다.
